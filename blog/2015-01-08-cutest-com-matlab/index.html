<!doctype html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta http-equiv=Accept-CH content="DPR, Viewport-Width, Width"><link rel=icon href=/images/icon.png type=image/gif><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" media=print onload='this.media="all"'><noscript><link href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet></noscript><link rel=stylesheet href=/css/font.css media=all><script async src="https://www.googletagmanager.com/gtag/js?id=G-WS6K0SDB05"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WS6K0SDB05",{anonymize_ip:!1})}</script><meta property="og:title" content="CUTEst Com Matlab"><meta property="og:description" content="No meu vídeo do YouTube, eu ensinei como se faz para instalar o CUTEst. Hoje estendo a instalação para instalar o MatLab também, mas para uma instalação mais detalhada, talvez o vídeo seja mais indicado.
Inicialmente instale o Matlab. Não vou entrar em detalhes, mas atente-se a duas coisas:
Algumas versões do matlab não colocam o executável num lugar &ldquo;visível pelo terminal&#34;. Para resolver, usando o bash, adicione o caminho dos executáveis do MATLAB ao PATH no arquivo `~/."><meta property="og:type" content="article"><meta property="og:url" content="https://abelsiqueira.com/blog/2015-01-08-cutest-com-matlab/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2015-01-08T00:00:00+00:00"><meta property="article:modified_time" content="2015-01-08T00:00:00+00:00"><meta property="og:site_name" content="Abel Soares Siqueira"><meta name=twitter:card content="summary"><meta name=twitter:title content="CUTEst Com Matlab"><meta name=twitter:description content="No meu vídeo do YouTube, eu ensinei como se faz para instalar o CUTEst. Hoje estendo a instalação para instalar o MatLab também, mas para uma instalação mais detalhada, talvez o vídeo seja mais indicado.
Inicialmente instale o Matlab. Não vou entrar em detalhes, mas atente-se a duas coisas:
Algumas versões do matlab não colocam o executável num lugar &ldquo;visível pelo terminal&#34;. Para resolver, usando o bash, adicione o caminho dos executáveis do MATLAB ao PATH no arquivo `~/."><link rel=stylesheet href=/bootstrap-5/css/bootstrap.min.css media=all><link rel=stylesheet href=/css/header.css media=all><link rel=stylesheet href=/css/footer.css media=all><link rel=stylesheet href=/css/theme.css media=all><link rel=stylesheet href=/style.css><style>:root{--text-color:#343a40;--text-secondary-color:#6c757d;--background-color:#eaedf0;--secondary-background-color:#64ffda1a;--primary-color:#007bff;--secondary-color:#f8f9fa;--text-color-dark:#e4e6eb;--text-secondary-color-dark:#b0b3b8;--background-color-dark:#18191a;--secondary-background-color-dark:#212529;--primary-color-dark:#abe18a;--secondary-color-dark:#212529}body{font-size:1rem;font-weight:400;line-height:1.5;text-align:left}html{background-color:var(--background-color)!important}body::-webkit-scrollbar{width:.5em;height:.5em;background-color:var(--background-color)}::-webkit-scrollbar-track{box-shadow:inset 0 0 6px var(--background-color);border-radius:1rem}::-webkit-scrollbar-thumb{border-radius:1rem;background-color:var(--secondary-color);outline:1px solid var(--background-color)}#search-content::-webkit-scrollbar{width:.5em;height:.1em;background-color:var(--background-color)}</style><meta name=description content><link rel=stylesheet href=/css/single.css><script defer src=/fontawesome-6/all-6.4.2.js></script><title>CUTEst Com Matlab | Abel Soares Siqueira</title></head><body class=light><script>let localStorageValue=localStorage.getItem("pref-theme"),mediaQuery=window.matchMedia("(prefers-color-scheme: dark)").matches;switch(localStorageValue){case"dark":document.body.classList.add("dark");break;case"light":document.body.classList.remove("dark");break;default:mediaQuery&&document.body.classList.add("dark");break}</script><header id=profileHeader><nav class="pt-3 navbar navbar-expand-lg animate"><div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5"><a class="navbar-brand primary-font text-wrap" href=/>Abel Soares Siqueira</a><div><input id=search autocomplete=off class="form-control mr-sm-2 d-none d-md-block" placeholder='Ctrl + k to Search...' aria-label=Search oninput=searchOnChange(event)></div><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarContent aria-controls=navbarContent aria-expanded=false aria-label="Toggle navigation"><svg aria-hidden="true" height="24" viewBox="0 0 16 16" width="24" data-view-component="true"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button><div class="collapse navbar-collapse text-wrap primary-font" id=navbarContent><ul class="navbar-nav ms-auto text-center"><li class="nav-item navbar-text d-block d-md-none"><div class=nav-link><input id=search autocomplete=off class="form-control mr-sm-2" placeholder='Ctrl + k to Search...' aria-label=Search oninput=searchOnChange(event)></div></li><li class="nav-item navbar-text"><a class=nav-link href=/#about aria-label=about>About Me</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#experience aria-label=experience>Experience</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#education aria-label=education>Education</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#projects aria-label=projects>Projects</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#contact aria-label=contact>Contact</a></li><li class="nav-item navbar-text"><a class=nav-link href=/blog title="Blog posts">Blog</a></li><li class="nav-item navbar-text"><a class=nav-link href=/cv title=Curriculum>Curriculum</a></li><li class="nav-item navbar-text"><div class=text-center><button id=theme-toggle><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></li></ul></div></div></nav></header><div id=content><section id=single><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-9"><div class=pr-lg-4><div class="title mb-5"><h1 class="text-center mb-4">CUTEst Com Matlab</h1><div class=text-center><small>|</small>
Jan 8, 2015
<span id=readingTime>min read</span></div></div><article class="page-content p-2"><p>No meu <a href="https://www.youtube.com/watch?v=pM7FmOXHyns">vídeo do YouTube</a>,
eu ensinei como se faz para instalar o CUTEst. Hoje estendo a instalação
para instalar o MatLab também, mas para uma instalação mais detalhada,
talvez o vídeo seja mais indicado.</p><p>Inicialmente instale o Matlab. Não vou entrar em detalhes, mas atente-se a duas
coisas:</p><ul><li>Algumas versões do matlab não colocam o executável num lugar &ldquo;visível pelo</li></ul><pre tabindex=0><code>terminal&#34;.
Para resolver, usando o bash, adicione o caminho dos executáveis do MATLAB
ao PATH no arquivo `~/.bashrc`.
Por exemplo, adicionando
</code></pre><pre tabindex=0><code>PATH=/usr/local/MATLAB/R20XXc/bin:$PATH
</code></pre><ul><li>Você vai precisar do <code>mex</code> (um link para ele é suficiente) no /bin.</li></ul><pre tabindex=0><code>Para resolver, pode fazer um link a partir do caminho original
</code></pre><pre tabindex=0><code>$ sudo ln -s /usr/local/MATLAB/R20XXc/bin/mex /bin/
</code></pre><p>Depois de instalado o Matlab,
vamos instalar o CUTEst. Você precisará do <code>subversion</code> instalado (que
disponibiliza o comando <code>svn</code>), e do compilador de fortran.
<strong>A versão do compilador de fortran depende da versão do Matlab.</strong></p><table><thead><tr><th style=text-align:center>Versão do Matlab</th><th style=text-align:center>Versão do compilador</th></tr></thead><tbody><tr><td style=text-align:center>Antes do R2011a</td><td style=text-align:center>g95</td></tr><tr><td style=text-align:center>R2011a - R2013a</td><td style=text-align:center>gfortran-4.4</td></tr><tr><td style=text-align:center>R2013b ou mais novo</td><td style=text-align:center>gfortran-4.7</td></tr></tbody></table><p>Crie ou escolha uma pasta para as biblioteca do cutest.
A nossa será <code>$HOME/libraries</code>.
Nessa pasta baixe os repositórios CUTEst usando o subversion.
Siga os passos da <a href=http://ccpforge.cse.rl.ac.uk/gf/project/cutest/wiki/>wiki
oficial</a>,
ou copie os comandos abaixo para um arquivo <code>baixacutest.sh</code>.</p><pre tabindex=0><code>#!/bin/bash
</code></pre><pre tabindex=0><code>cmd=&#34;svn checkout -q --username anonymous --password &#34;&#34; --non-interactive --no-auth-cache&#34;
url=&#34;http://ccpforge.cse.rl.ac.uk/svn/cutest/&#34;
for name in archdefs sifdecode cutest sif
do
echo &#34;Downloading $name&#34;
$cmd $url/$name/trunk ./$name
done
</code></pre><p>Para executar esse arquivo, rode os comandos</p><pre tabindex=0><code>$ chmod a+x baixacutest.sh
$ ./baixacutest.sh
</code></pre><p>Entre na pasta <code>$HOME/libraries/archdefs</code> e rode o comando
<code>install_optsuite</code>.
Responda as perguntas para instalar o CUTEst e sua família.</p><p>Depois da instalação, o CUTEst soltará várias informações que
você deve guardar no seu <code>$HOME/.bashrc</code>. As minhas
informações estão abaixo. Você pode modificar para corresponder
à sua configuração.</p><pre tabindex=0><code>LIBS=$HOME/libraries
export ARCHDEFS=&#34;$LIBS/archdefs&#34;
export SIFDECODE=&#34;$LIBS/sifdecode&#34;
export CUTEST=&#34;$LIBS/cutest&#34;
export MASTSIF=&#34;$LIBS/sif&#34;
export PATH=&#34;$CUTEST/bin:$SIFDECODE/bin:$PATH&#34;
export MANPATH=&#34;$CUTEST/man:$SIFDECODE/man:$MANPATH&#34;
export MYARCH=&#34;pc64.lnx.gfo&#34;
export MYMATLABARCH=&#34;pc64.lnx.gfo&#34;
export MYMATLAB=&#34;/usr/local/MATLAB/RXXXX/&#34;
</code></pre><p>Para fazer o Matlab funcionar com o CUTEst, você decodifica o arquivo <code>SIF</code>
para o format <code>mex</code> do matlab. Daí, você tem que abrir o Matlab naquela pasta,
ou inserir o path dessa pasta.
Aí você usa os comandos do cutest para acessar as propriedades do problema.
O primeiro comando que você vai usar é o</p><pre tabindex=0><code>prob = cutest_setup()
</code></pre><p>Para acessar a função objetivo, você pode usar</p><pre tabindex=0><code>f = cutest_obj(x)
[f,g] = cutest_obj(x) % já retorna o gradiente também
</code></pre><p>Para acessar o gradiente, você pode usar</p><pre tabindex=0><code>g = cutest_grad(x)
</code></pre><p>Além disso, existem outras funções que você pode usar.
A lista está no apêndice B do
Technical Report do CUTEst.</p><p>Para testar sua instação, você pode copiar o programinha a seguir,
que tenta encontrar o minimizador de uma função através do método
de máxima descida.</p><pre tabindex=0><code>function [x,fx,k] = steep(x, f, g)

kmax = 1e4;
alpha = 0.5;
eps = 1e-4;

fx = f(x);
gx = g(x);

k = 1;
while norm(gx) &gt; eps
  t = 1;
  while f(x-t*gx) &gt; fx - alpha*t*dot(gx,gx)
    t = t*0.9;
  end
  x = x - t*gx;
  fx = f(x);
  gx = g(x);
  k = k + 1;
  if k &gt; kmax
    return
  end
end
</code></pre><p>Copie esse conteúdo para um arquivo <code>steep.m</code>, e abra o Matlab.
No terminal, vá até a pasta em que está esse arquivo e rode:</p><pre tabindex=0><code>$ cutest2matlab BARD
</code></pre><p>No matlab, vá até a pasta que está esse arquivo e rode</p><pre tabindex=0><code>prob = cutest_prob();
[sol, fx, k] = steep(prob.x, @(x) cutest_obj(x), @(x) cutest_grad(x))
</code></pre><p>A solução do problema deve ser perto de <code>(0.08,1.14,2.33)</code> e <code>f = 0.0082</code>.</p></article></div></div><div class="col-sm-12 col-md-12 col-lg-3"><div id=stickySideBar class=sticky-sidebar><aside class=toc><h5>Table Of Contents</h5><div class=toc-content><nav id=TableOfContents></nav></div></aside><aside class=tags><h5>Tags</h5><ul class="tags-ul list-unstyled list-inline"><li class=list-inline-item><a href=https://abelsiqueira.com/tags/cutest target=_blank>cutest</a></li><li class=list-inline-item><a href=https://abelsiqueira.com/tags/matlab target=_blank>matlab</a></li><li class=list-inline-item><a href=https://abelsiqueira.com/tags/tech target=_blank>tech</a></li></ul></aside><aside class=social><h5>Social</h5><div class=social-content><ul class=list-inline><li class="list-inline-item text-center"><a target=_blank href="https://twitter.com/share?text=CUTEst%20Com%20Matlab&url=https%3a%2f%2fabelsiqueira.com%2fblog%2f2015-01-08-cutest-com-matlab%2f"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://api.whatsapp.com/send?text=CUTEst%20Com%20Matlab: https%3a%2f%2fabelsiqueira.com%2fblog%2f2015-01-08-cutest-com-matlab%2f"><i class="fab fa-whatsapp"></i></a></li><li class="list-inline-item text-center"><a target=_blank href='mailto:?subject=CUTEst%20Com%20Matlab&amp;body=Check%20out%20this%20site https%3a%2f%2fabelsiqueira.com%2fblog%2f2015-01-08-cutest-com-matlab%2f'><i class="fa fa-envelope"></i></a></li></ul></div></aside></div></div></div><div class=row><div class="col-sm-12 col-md-12 col-lg-9 p-4"></div></div></div><button class="p-2 px-3" onclick=topFunction() id=topScroll>
<i class="fas fa-angle-up"></i></button></section><div class=progress><div id=scroll-progress-bar class=progress-bar role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100></div></div><script src=/js/scrollProgressBar.js></script><script>var topScroll=document.getElementById("topScroll");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?topScroll.style.display="block":topScroll.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}let stickySideBarElem=document.getElementById("stickySideBar"),stickyNavBar=!1;if(stickyNavBar){let e=document.getElementById("profileHeader"),t=e.offsetHeight+15;stickySideBarElem.style.top=t+"px"}else stickySideBarElem.style.top="50px"</script><script src=/js/readingTime.js></script></div><footer><div class="container py-3" id=recent-posts><div class="h3 text-center text-secondary py-3">Recent Posts</div><div class="row justify-content-center"><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/blog/2024-01-04-personal-julia-2023-retrospective/><img src=/blog/2024-01-04.gif class=card-img-top alt="Personal Julia 2023 retrospective"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/blog/2024-01-04-personal-julia-2023-retrospective/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="Personal Julia 2023 retrospective">Personal Julia 2023 …</h5></a><div class="card-text secondary-font"><p>2023 was a very interest year for me, regarding the use and promotion of the Julia Programming Language. Here are the three main reasons why.
First, I gave no less than 4 talks (not counting anything in-company).
On 19/January at the JuliaLang Eindhoven Meetup. I talked about the difficulties of …</p></div></div><div class="mt-auto card-footer"><span class=float-start>Jan 3, 2024</span>
<a href=/blog/2024-01-04-personal-julia-2023-retrospective/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/blog/2023-10-07-copiertemplate/><img src=/blog/2023-10-07/banner.jpg class=card-img-top alt="COPIERTemplate.jl: A new template for Julia using copier"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/blog/2023-10-07-copiertemplate/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="COPIERTemplate.jl: A new template for Julia using copier">COPIERTemplate.jl: A new …</h5></a><div class="card-text secondary-font"><p>I help manage over 50 packages in the Julia Smooth Optimizers organization, and sometimes we have to make a small update to all of these packages. For instance, one of the workflows was updated, or something new is introduced, or the LTS version of Julia changes.
In these situations, our usual …</p></div></div><div class="mt-auto card-footer"><span class=float-start>Oct 7, 2023</span>
<a href=/blog/2023-10-07-copiertemplate/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/blog/2023-09-05-best-frenemies-julia-and-python/><img src=/blog/2023-09-05/banner.gif class=card-img-top alt="Best Frenemies: Julia and Python"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/blog/2023-09-05-best-frenemies-julia-and-python/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="Best Frenemies: Julia and Python">Best Frenemies: Julia and …</h5></a><div class="card-text secondary-font"><p>Julia and Python are often seen as competitors, but in this video I want to show the integration between them. Using the PythonCall and the JuliaCall packages we can call Julia from Python and Python from Julia. Check the video out or check edited transcript below.
Don&rsquo;t forget to like and …</p></div></div><div class="mt-auto card-footer"><span class=float-start>Sep 5, 2023</span>
<a href=/blog/2023-09-05-best-frenemies-julia-and-python/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div></div><div class="text-center pt-2"></div><div class="container py-4"><div class="row justify-content-center"><div class="col-md-4 text-center"><div class=pb-2><a href=https://abelsiqueira.com title="Abel Soares Siqueira"><img alt="Footer logo" src=/images/icon.png height=40px width=40px></a></div>&copy; 2024 All rights reserved<div class=text-secondary>Made with
<span class=text-danger>&#10084;
</span>and
<a href=https://github.com/gurusabarish/hugo-profile target=_blank title="Designed and developed by gurusabarish">Hugo Profile</a></div></div></div></div></footer><script src=/bootstrap-5/js/bootstrap.bundle.min.js></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))});var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(e){return new bootstrap.Tooltip(e)})</script><script src=/js/search.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js integrity=sha384-M5jmNxKC9EVnuqeMwRHvFuYUE8Hhp0TgBruj/GZRkYtiMrCRgH7yvv5KY+Owi7TW crossorigin=anonymous></script><script type=text/x-mathjax-config>
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['\\(','\\)']],
        displayMath: [['$$','$$'], ['\[','\]']],
        processEscapes: true,
        processEnvironments: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
        TeX: { equationNumbers: { autoNumber: "AMS" },
             extensions: ["AMSmath.js", "AMSsymbols.js"] }
      }
    });
</script><section id=search-content class=py-2><div class=container id=search-results></div></section></body></html>