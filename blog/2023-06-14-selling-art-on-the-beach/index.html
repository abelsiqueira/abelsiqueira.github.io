<!doctype html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta http-equiv=Accept-CH content="DPR, Viewport-Width, Width"><link rel=icon href=/images/icon.png type=image/gif><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" media=print onload='this.media="all"'><noscript><link href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet></noscript><link rel=stylesheet href=/css/font.css media=all><script async src="https://www.googletagmanager.com/gtag/js?id=G-WS6K0SDB05"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WS6K0SDB05")}</script><meta property="og:url" content="/blog/2023-06-14-selling-art-on-the-beach/"><meta property="og:site_name" content="Abel Soares Siqueira"><meta property="og:title" content="Selling art on the beach"><meta property="og:description" content="I just released a video about using mathematical modeling to solve a production planning with the thematic of selling your art on the beach.
You can check the pluto notebook html here or download the notebook here.
I have an excert down here, but for more details, check the video.
In Brazil, a common joke between undergrad students (usually during exams) is that “maybe I should give up and go sell my art on the beach”."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-06-14T00:00:00+00:00"><meta property="article:modified_time" content="2023-06-14T00:00:00+00:00"><meta property="article:tag" content="Julia"><meta property="article:tag" content="Mathematical-Programming"><meta property="article:tag" content="Optimization"><meta property="article:tag" content="Modeling"><meta property="article:tag" content="Planning"><meta property="article:tag" content="Microeconomics"><meta name=twitter:card content="summary"><meta name=twitter:title content="Selling art on the beach"><meta name=twitter:description content="I just released a video about using mathematical modeling to solve a production planning with the thematic of selling your art on the beach.
You can check the pluto notebook html here or download the notebook here.
I have an excert down here, but for more details, check the video.
In Brazil, a common joke between undergrad students (usually during exams) is that “maybe I should give up and go sell my art on the beach”."><link rel=stylesheet href=/bootstrap-5/css/bootstrap.min.css media=all><link rel=stylesheet href=/css/header.css media=all><link rel=stylesheet href=/css/footer.css media=all><link rel=stylesheet href=/css/theme.css media=all><style>:root{--text-color:#343a40;--text-secondary-color:#6c757d;--text-link-color:#007bff;--background-color:#eaedf0;--secondary-background-color:#64ffda1a;--primary-color:#007bff;--secondary-color:#f8f9fa;--text-color-dark:#c4d7f2;--text-secondary-color-dark:#b0b3b8;--text-link-color-dark:#eea243;--background-color-dark:#181818;--secondary-background-color-dark:#212529;--primary-color-dark:#eea243;--secondary-color-dark:#212529}body{font-size:1rem;font-weight:400;line-height:1.5;text-align:left}html{background-color:var(--background-color)!important}body::-webkit-scrollbar{height:0;width:8px;background-color:var(--background-color)}::-webkit-scrollbar-track{border-radius:1rem}::-webkit-scrollbar-thumb{border-radius:1rem;background:#b0b0b0;outline:1px solid var(--background-color)}#search-content::-webkit-scrollbar{width:.5em;height:.1em;background-color:var(--background-color)}</style><meta name=description content><link rel=stylesheet href=/css/single.css><script defer src=/fontawesome-6/all-6.4.2.js></script><link rel=stylesheet href=/style.css><title>Selling art on the beach | Abel Soares Siqueira</title></head><body class=light><script>let localStorageValue=localStorage.getItem("pref-theme"),mediaQuery=window.matchMedia("(prefers-color-scheme: dark)").matches;switch(localStorageValue){case"dark":document.body.classList.add("dark");break;case"light":document.body.classList.remove("dark");break;default:mediaQuery&&document.body.classList.add("dark");break}</script><header id=profileHeader><nav class="pt-3 navbar navbar-expand-lg animate"><div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5"><a class="navbar-brand primary-font text-wrap" href=/>Abel Soares Siqueira</a><div><input id=search autocomplete=off class="form-control mr-sm-2 d-none d-md-block" placeholder='Ctrl + k to Search...' aria-label=Search oninput=searchOnChange(event)></div><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarContent aria-controls=navbarContent aria-expanded=false aria-label="Toggle navigation"><svg aria-hidden="true" height="24" viewBox="0 0 16 16" width="24" data-view-component="true"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button><div class="collapse navbar-collapse text-wrap primary-font" id=navbarContent><ul class="navbar-nav ms-auto text-center"><li class="nav-item navbar-text d-block d-md-none"><div class=nav-link><input id=search autocomplete=off class="form-control mr-sm-2" placeholder='Ctrl + k to Search...' aria-label=Search oninput=searchOnChange(event)></div></li><li class="nav-item navbar-text"><a class=nav-link href=/#projects aria-label=projects>Selected links</a></li><li class="nav-item navbar-text"><a class=nav-link href=/blog title="Blog posts">Blog</a></li><li class="nav-item navbar-text"><a class=nav-link href=/tags title=Tags>Tags</a></li><li class="nav-item navbar-text"><div class=text-center><button id=theme-toggle><svg id="moon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></li></ul></div></div></nav></header><div id=content><section id=single><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-9"><div class=pr-lg-4><div class="title mb-5"><h1 class="text-center mb-4">Selling art on the beach</h1><div class=text-center>Jun 14, 2023
<span id=readingTime>min read</span></div></div><div class=featured-image><img class="img-fluid mx-auto d-block" src=/blog/2023-06-14/banner.jpg alt="Selling art on the beach"></div><article class="page-content p-2"><p>I just released a video about using mathematical modeling to solve a production planning with the thematic of selling your art on the beach.</p><p><a href=https://youtu.be/IOUi1juD5HQ><img src=/blog/2023-06-14/banner.jpg alt="Banner for youtube video"></a></p><p>You can check the pluto notebook html <a href=/blog/2023-06-14/selling-art-on-the-beach.html>here</a> or download the notebook <a href=https://github.com/abelsiqueira/youtube/blob/main/selling-art-on-the-beach.jl>here</a>.</p><p>I have an excert down here, but for more details, check the video.</p><hr><p>In Brazil, a common joke between undergrad students (usually during exams) is that &ldquo;maybe I should give up and go sell my art on the beach&rdquo;.</p><p>In this series, let&rsquo;s follow a situation like that, by following the story of Javier, who just decided to leave his applied math program and sell beaded jewelry.</p><p>Javier spends his days on the beach, where he showcases his products, and while not selling, he can work on more of them.
It&rsquo;s a simple life.</p><p>However, while working on his art, Javier&rsquo;s mind wanders into his optimization class. He realizes that he could some use some of the basics of that class to improve his production.</p><p>Javier has 3 products:</p><ul><li>Necklaces</li><li>Bracelets</li><li>Earrings</li></ul><p>To create these products, he uses 3 materials:</p><ul><li>Beads</li><li>String</li><li>Wire</li></ul><p>Let&rsquo;s simplify, and assume all necklaces are equal, all bracelets are equal, etc.</p><p>For each product, you have a different use of materials, a different selling price, and a different time to assemble them.
Additionally, there are costs for the materials.
Finally, Javier assumes that having variety is good for business, so he wants at least some amount of each product.
These values can be seen in the <a href=https://youtu.be/IOUi1juD5HQ>video</a>.</p><h2 id=modeling>Modeling</h2><p>The way that Javier learned to model was using the Sets, Parameters, and Variables.</p><p><strong>Sets</strong>:</p><ul><li>Products: $p \in \mathcal{P}$</li><li>Materials: $m \in \mathcal{M}$</li></ul><p><strong>Parameters</strong>:</p><table><thead><tr><th style=text-align:left>Name</th><th style=text-align:left>Unit</th><th style=text-align:left>Identifier</th><th style=text-align:left>Set</th></tr></thead><tbody><tr><td style=text-align:left>Time availability</td><td style=text-align:left>h</td><td style=text-align:left>$\text{time_available}$</td><td style=text-align:left></td></tr><tr><td style=text-align:left>Product $p$ selling price</td><td style=text-align:left>€ / unit</td><td style=text-align:left>$\text{selling_price}_p$</td><td style=text-align:left>$p \in \mathcal{P}$</td></tr><tr><td style=text-align:left>Material $m$ cost</td><td style=text-align:left>€ / [$m$]</td><td style=text-align:left>$\text{material_cost}_m$</td><td style=text-align:left>$m \in \mathcal{M}$</td></tr><tr><td style=text-align:left>Hours to assemble product $p$</td><td style=text-align:left>h / unit</td><td style=text-align:left>$\text{assemble_time}_p$</td><td style=text-align:left>$p \in \mathcal{P}$</td></tr><tr><td style=text-align:left>Minimum production of product $p$</td><td style=text-align:left>unit</td><td style=text-align:left>$\text{min_prod}_p$</td><td style=text-align:left>$p \in \mathcal{P}$</td></tr><tr><td style=text-align:left>Amount of $m$ per unit of $p$</td><td style=text-align:left>[$m$] / unit</td><td style=text-align:left>$\text{mat_per_prod}_{p,m}$</td><td style=text-align:left>$p \in \mathcal{P}, m \in \mathcal{M}$</td></tr></tbody></table><p><strong>Variables</strong>:</p><ul><li>Amount of product $p$ assembled and sold (unit): $\text{prod}_p, \quad p \in \mathcal{P}$</li></ul><p><strong>Expressions</strong>:</p><ul><li><p>Revenue: $$\text{revenue} = \sum_{p \in \mathcal{P}} \text{selling_price}_p \times \text{prod}_p$$</p></li><li><p>Total Used Material: $$\text{total_used_material}_m = \sum_{p \in \mathcal{P}} \text{mat_per_prod}_{p,m} \times \text{prod}_p, \quad m \in \mathcal{M}$$</p></li><li><p>Total Material Cost:
$$\text{total_material_cost} = \sum_{m \in \mathcal{M}} \text{total_used_mat}_m \times \text{material_cost}_m, \quad m \in \mathcal{M}$$</p></li><li><p>Time expenditure: $$\text{time_spent} = \sum_{p \in \mathcal{P}} \text{assemble_time}_p \times \text{prod}_p$$</p></li></ul><p><strong>Objective</strong>:</p><ul><li>Maximize profit: $$\text{maximize} \quad \text{revenue} - \text{total_material_cost}$$</li></ul><p><strong>Constraints</strong>:</p><ul><li>Time Availability: $$\text{spent_time} \leq \text{time_available}$$</li><li>Minimum production: $$\text{prod}_p \geq \text{min_prod}_p, \quad p \in \mathcal{P}$$</li><li>Integer production: $$\text{prod}_p \in \mathbb{Z}$$</li></ul><h2 id=code>Code</h2><p>The code below needs data to work, so check the video or the code (links in the top).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=display:flex><span><span style=color:#66d9ef>using</span> JuMP, Cbc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> optimize_production(time_availability)
</span></span><span style=display:flex><span>  model <span style=color:#f92672>=</span> Model(Cbc<span style=color:#f92672>.</span>Optimizer)
</span></span><span style=display:flex><span>  set_attribute(model, <span style=color:#e6db74>&#34;logLevel&#34;</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  products_index <span style=color:#f92672>=</span> <span style=color:#66d9ef>Dict</span>(p <span style=color:#f92672>=&gt;</span> i <span style=color:#66d9ef>for</span> (i, p) <span style=color:#66d9ef>in</span> enumerate(products))
</span></span><span style=display:flex><span>  materials_index <span style=color:#f92672>=</span> <span style=color:#66d9ef>Dict</span>(m <span style=color:#f92672>=&gt;</span> i <span style=color:#66d9ef>for</span> (i, m) <span style=color:#66d9ef>in</span> enumerate(materials))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@variable</span>(model,
</span></span><span style=display:flex><span>    prod[p<span style=color:#f92672>=</span>products] <span style=color:#f92672>≥</span> min_prod[products_index[p]],
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>Int</span>
</span></span><span style=display:flex><span>  )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@expression</span>(model,
</span></span><span style=display:flex><span>    total_used_material[m<span style=color:#f92672>=</span>materials],
</span></span><span style=display:flex><span>    sum(
</span></span><span style=display:flex><span>      material_per_product[products_index[p], materials_index[m]] <span style=color:#f92672>*</span> prod[p]
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> p <span style=color:#66d9ef>in</span> products
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>  )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># total_mat_cost = sum(</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 	total_used_material[m] * material_cost[m]</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 	for m, _ in enumerate(materials)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># )</span>
</span></span><span style=display:flex><span>  total_mat_cost <span style=color:#f92672>=</span> sum(total_used_material <span style=color:#f92672>.*</span> material_cost)
</span></span><span style=display:flex><span>  <span style=color:#75715e># total_mat_cost = dot(total_used_material, material_cost)</span>
</span></span><span style=display:flex><span>  revenue <span style=color:#f92672>=</span> sum(prod <span style=color:#f92672>.*</span> selling_price)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  profit <span style=color:#f92672>=</span> revenue <span style=color:#f92672>-</span> total_mat_cost
</span></span><span style=display:flex><span>  time_expenditure <span style=color:#f92672>=</span> sum(hours_to_assemble <span style=color:#f92672>.*</span> prod)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@objective</span>(model, Max, profit)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@constraint</span>(model, time_expenditure <span style=color:#f92672>≤</span> time_availability)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  optimize!(model)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [value(prod[p]) <span style=color:#66d9ef>for</span> p <span style=color:#66d9ef>in</span> products], objective_value(model), model
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h2 id=results>Results</h2><p>Running this code for different time availabilities, we get the following plots:</p><p><img src=/blog/2023-06-14/results.png alt></p><p>The actual values only make sense within the context of the prices, so I won&rsquo;t show them here.
What is interesting, though, is that you can see the nonlinearity of the profit with respect to time availability.
If you only worked with linear programming before, it is often surprising how &ldquo;simply&rdquo; forcing the variables to be integer lead to such cases.</p><hr></article></div></div><div class="col-sm-12 col-md-12 col-lg-3"><div id=stickySideBar class=sticky-sidebar><aside class=toc><h5>Table Of Contents</h5><div class=toc-content><nav id=TableOfContents><ul><li><a href=#modeling>Modeling</a></li><li><a href=#code>Code</a></li><li><a href=#results>Results</a></li></ul></nav></div></aside><aside class=tags><h5>Tags</h5><ul class="tags-ul list-unstyled list-inline"><li class=list-inline-item><a href=/tags/julia target=_blank>julia</a></li><li class=list-inline-item><a href=/tags/mathematical-programming target=_blank>mathematical-programming</a></li><li class=list-inline-item><a href=/tags/optimization target=_blank>optimization</a></li><li class=list-inline-item><a href=/tags/modeling target=_blank>modeling</a></li><li class=list-inline-item><a href=/tags/planning target=_blank>planning</a></li><li class=list-inline-item><a href=/tags/microeconomics target=_blank>microeconomics</a></li><li class=list-inline-item><a href=/tags/orms target=_blank>orms</a></li></ul></aside><aside class=social><h5>Social</h5><div class=social-content><ul class=list-inline><li class="list-inline-item text-center"><a target=_blank href="https://www.linkedin.com/shareArticle?mini=true&url=%2fblog%2f2023-06-14-selling-art-on-the-beach%2f"><i class="fab fa-linkedin"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://twitter.com/share?text=Selling%20art%20on%20the%20beach&url=%2fblog%2f2023-06-14-selling-art-on-the-beach%2f"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://api.whatsapp.com/send?text=Selling%20art%20on%20the%20beach: %2fblog%2f2023-06-14-selling-art-on-the-beach%2f"><i class="fab fa-whatsapp"></i></a></li><li class="list-inline-item text-center"><a target=_blank href='mailto:?subject=Selling%20art%20on%20the%20beach&amp;body=Check%20out%20this%20site %2fblog%2f2023-06-14-selling-art-on-the-beach%2f'><i class="fa fa-envelope"></i></a></li></ul></div></aside></div></div></div><div class=row><div class="col-sm-12 col-md-12 col-lg-9 p-4"></div></div></div><button class="p-2 px-3" onclick=topFunction() id=topScroll>
<i class="fas fa-angle-up"></i></button></section><div class=progress><div id=scroll-progress-bar class=progress-bar role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100></div></div><script src=/js/scrollProgressBar.js></script><script>var topScroll=document.getElementById("topScroll");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?topScroll.style.display="block":topScroll.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}let stickySideBarElem=document.getElementById("stickySideBar"),stickyNavBar=!1;if(stickyNavBar){let e=document.getElementById("profileHeader"),t=e.offsetHeight+15;stickySideBarElem.style.top=t+"px"}else stickySideBarElem.style.top="50px"</script><script src=/js/readingTime.js></script></div><footer><div class="text-center pt-2"></div><div class="container py-4"><div class="row justify-content-center"><div class="col-md-4 text-center"><div class=pb-2><a href=/ title="Abel Soares Siqueira"><img alt="Footer logo" src=/images/icon.png height=40px width=40px></a></div>&copy; 2024 All rights reserved<div class=text-secondary>Made with
<span class=text-danger>&#10084;
</span>and
<a href=https://github.com/gurusabarish/hugo-profile target=_blank title="Designed and developed by gurusabarish">Hugo Profile</a></div></div></div></div></footer><script src=/bootstrap-5/js/bootstrap.bundle.min.js></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))});var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(e){return new bootstrap.Tooltip(e)})</script><script src=/js/search.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js integrity=sha384-M5jmNxKC9EVnuqeMwRHvFuYUE8Hhp0TgBruj/GZRkYtiMrCRgH7yvv5KY+Owi7TW crossorigin=anonymous></script><script type=text/x-mathjax-config>
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['\\(','\\)']],
        displayMath: [['$$','$$'], ['\[','\]']],
        processEscapes: true,
        processEnvironments: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
        TeX: { equationNumbers: { autoNumber: "AMS" },
             extensions: ["AMSmath.js", "AMSsymbols.js"] }
      }
    });
</script><section id=search-content class=py-2><div class=container id=search-results></div></section></body></html>